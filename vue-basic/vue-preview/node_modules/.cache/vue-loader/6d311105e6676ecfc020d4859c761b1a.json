{"remainingRequest":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/src/views/Login.vue","mtime":1595822482000},{"path":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQge21hcFN0YXRlLCBtYXBBY3Rpb25zfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogIG1ldGhvZHM6IHsKICAgIGxvZ2luKCkgewogICAgICAvLyB3aW5kb3cuaXNMb2dpbiA9IHRydWU7CiAgICAgIC8vIOaPkOS6pG11dGF0aW9u5Y+Y5pu054q25oCBCiAgICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgndXNlci9sb2dpbicpCiAgICAgIC8vIOa0vuWPkeWKqOS9nO+8jOinpuWPkWFjdGlvbnMKICAgICAgLy8gdGhpcy4kc3RvcmUuZGlzcGF0Y2goInVzZXIvbG9naW4iLCAiYWRtaW4iKS50aGVuKCgpID0+IHsKICAgICAgdGhpc1sidXNlci9sb2dpbiJdKCJhZG1pbiIpLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHRoaXMuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0KTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIGFsZXJ0KCfnlKjmiLflkI3miJblr4bnoIHplJnor6/vvIzor7fph43or5XvvIEnKQogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQoKSB7CiAgICAgIC8vIHdpbmRvdy5pc0xvZ2luID0gZmFsc2U7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXNlci9sb2dvdXQiKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgIH0sCiAgICAuLi5tYXBBY3Rpb25zKFsndXNlci9sb2dpbicsICd1c2VyL2xvZ291dCddKQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIGlzTG9naW4oKSB7CiAgICAvLyAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmlzTG9naW47CiAgICAvLyB9CiAgICAuLi5tYXBTdGF0ZSgndXNlcicsIFsnaXNMb2dpbiddKQogIH0KfTsK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;AASA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <button @click=\"login\" v-if=\"!isLogin\">登录</button>\n    <button @click=\"logout\" v-else>注销</button>\n  </div>\n</template>\n\n<script>\n\nimport {mapState, mapActions} from 'vuex'\n\nexport default {\n  methods: {\n    login() {\n      // window.isLogin = true;\n      // 提交mutation变更状态\n      // this.$store.commit('user/login')\n      // 派发动作，触发actions\n      // this.$store.dispatch(\"user/login\", \"admin\").then(() => {\n      this[\"user/login\"](\"admin\").then(() => {\n        this.$router.push(this.$route.query.redirect);\n      }).catch(() => {\n        alert('用户名或密码错误，请重试！')\n      });\n    },\n    logout() {\n      // window.isLogin = false;\n      this.$store.commit(\"user/logout\");\n      this.$router.push(\"/\");\n    },\n    ...mapActions(['user/login', 'user/logout'])\n  },\n  computed: {\n    // isLogin() {\n    //   return this.$store.state.user.isLogin;\n    // }\n    ...mapState('user', ['isLogin'])\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n</style>"]}]}