{"remainingRequest":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/babel-loader/lib/index.js!/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/eslint-loader/index.js??ref--13-0!/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/src/store/user.js","dependencies":[{"path":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/src/store/user.js","mtime":1595822482000},{"path":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCB7IGFkZEF1dGhSb3V0ZSB9IGZyb20gJ0Avcm91dGVyL2luZGV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgLy8g6K6+572u54us56uL5ZG95ZCN56m66Ze077yM6YG/5YWN5ZG95ZCN5Yay56qBCiAgc3RhdGU6IHsKICAgIGlzTG9naW46IGZhbHNlLAogICAgdXNlcm5hbWU6ICcnCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihzdGF0ZSwgdXNlcm5hbWUpIHsKICAgICAgc3RhdGUuaXNMb2dpbiA9IHRydWU7CiAgICAgIHN0YXRlLnVzZXJuYW1lID0gdXNlcm5hbWU7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoc3RhdGUpIHsKICAgICAgc3RhdGUuaXNMb2dpbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VybmFtZSA9ICcnOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgd2VsY29tZTogZnVuY3Rpb24gd2VsY29tZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlcm5hbWUgKyAnLOasoui/juWbnuadpSc7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyDlj4LmlbAx5pivdnVleOS8oOmAkueahOS4iuS4i+aWh2NvbnRleHTvvJp7Y29tbWl0LCBkaXNwYXRjaCwgc3RhdGV9CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcm5hbWUpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAvLyDmqKHmi5/nmbvlvZVhcGnosIPnlKjvvIwxc+mSn+S7peWQjuWmguaenOeUqOaIt+WQjeaYr2FkbWlu5YiZ55m75b2V5oiQ5YqfCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBpZiAodXNlcm5hbWUgPT09ICdhZG1pbicpIHsKICAgICAgICAgICAgY29tbWl0KCdsb2dpbicsIHVzZXJuYW1lKTsgLy8g5Yqo5oCB5re75Yqg6K6k6K+B6Lev55SxCgogICAgICAgICAgICBhZGRBdXRoUm91dGUoKTsKICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgMTAwMCk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/ivy/Desktop/codeProject/hellovue/vue-basic/vue-preview/src/store/user.js"],"names":["addAuthRoute","namespaced","state","isLogin","username","mutations","login","logout","getters","welcome","actions","commit","Promise","resolve","reject","setTimeout"],"mappings":";AAAA,SAAQA,YAAR,QAA2B,gBAA3B;AAEA,eAAe;AACbC,EAAAA,UAAU,EAAE,IADC;AACK;AAClBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE,KADJ;AAELC,IAAAA,QAAQ,EAAE;AAFL,GAFM;AAMbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,KADS,iBACHJ,KADG,EACIE,QADJ,EACc;AACrBF,MAAAA,KAAK,CAACC,OAAN,GAAgB,IAAhB;AACAD,MAAAA,KAAK,CAACE,QAAN,GAAiBA,QAAjB;AACD,KAJQ;AAKTG,IAAAA,MALS,kBAKFL,KALE,EAKK;AACZA,MAAAA,KAAK,CAACC,OAAN,GAAgB,KAAhB;AACAD,MAAAA,KAAK,CAACE,QAAN,GAAiB,EAAjB;AACD;AARQ,GANE;AAgBbI,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAE,iBAAAP,KAAK;AAAA,aAAIA,KAAK,CAACE,QAAN,GAAiB,OAArB;AAAA;AADP,GAhBI;AAmBbM,EAAAA,OAAO,EAAE;AACP;AACAJ,IAAAA,KAFO,uBAEWF,QAFX,EAEqB;AAAA,UAApBO,MAAoB,QAApBA,MAAoB;AAC1B;AACA,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCC,QAAAA,UAAU,CAAC,YAAM;AACf,cAAIX,QAAQ,KAAK,OAAjB,EAA0B;AACxBO,YAAAA,MAAM,CAAC,OAAD,EAAUP,QAAV,CAAN,CADwB,CAExB;;AACAJ,YAAAA,YAAY;AACZa,YAAAA,OAAO;AACR,WALD,MAKO;AACLC,YAAAA,MAAM;AACP;AACF,SATS,EASP,IATO,CAAV;AAUD,OAXM,CAAP;AAYD;AAhBM;AAnBI,CAAf","sourcesContent":["import {addAuthRoute} from '@/router/index'\n\nexport default {\n  namespaced: true, // 设置独立命名空间，避免命名冲突\n  state: {\n    isLogin: false,\n    username: ''\n  },\n  mutations: {\n    login(state, username) {\n      state.isLogin = true\n      state.username = username\n    },\n    logout(state) {\n      state.isLogin = false\n      state.username = ''\n    },\n  },\n  getters: {\n    welcome: state => state.username + ',欢迎回来'\n  },\n  actions: {\n    // 参数1是vuex传递的上下文context：{commit, dispatch, state}\n    login({ commit }, username) {\n      // 模拟登录api调用，1s钟以后如果用户名是admin则登录成功\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          if (username === 'admin') {\n            commit('login', username)\n            // 动态添加认证路由\n            addAuthRoute()\n            resolve()\n          } else {\n            reject()\n          }\n        }, 1000);\n      })\n    }\n  }\n}"]}]}